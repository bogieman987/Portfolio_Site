<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Test</title>
		<style type="text/css">
			body {
				background: #123888;
				margin: 0 0;
			}
			h1 {
				font-size: 50px;
				font-family: sans-serif;
				text-align: center;
				color: white;
				background-color: #05163C;
				padding-bottom: 2px;
				border-top: 0px solid;
				border-top-left-radius: 20px;
				border-top-right-radius: 20px;
			}
			#bar {
				display: table;
				position: fixed;
				top: 0;
				width: 100%;
				padding-top: 10px;
				padding-bottom: 10px;
				background: rgba(35, 35, 35, 0.95);
				z-index: 100;

			}
			#barContainer {
				display: table;
				overflow-y: hidden;
				width: 100%;
				margin: 0 auto;
			}
			#logo {
				display: table-cell;
				overflow-y: hidden;
				margin-right: 30px;
				padding: 0;
				vertical-align: middle;
				line-height: normal;
			}
			#logo h2 {
				display: block;
				vertical-align: top;
				font-size: 40px;
				font-family: sans-serif;
				text-align: left;
				color: white;
				margin: 0 30px 0 10px;
				padding-left: 20px;
				max-width: 400px;
			}
			#buttonBar {
				display: table-cell;
				overflow-y: hidden;
				padding: 0;
				vertical-align: middle;
			}
			#buttonList {
				float: right;
				overflow: hidden;
				max-width: 1115px;
				margin: 0;
				padding: 0;
			}
			.button {
				display: inline-block;
				margin-right: 5px;
				padding: 0;	
			}
			.buttonText {
				display: block;
				border: 2px solid #ffffff;
				padding: 8px 12px;
				border-radius: 2px;
				color: #ffffff;
				text-transform: uppercase;
				text-decoration: none;
				letter-spacing: 0.05em;
				font-size: 14px;
				font-family: "Lato", sans-serif;
				font-weight: 700;
				line-height: normal;
			}
			.mainContainer {
				margin: 0 auto;
				padding-top: 100px;
				padding-bottom: 20px;
			}
			.subContainer {		
				height: 900px;	
			}
			.contentContainer {
				width: 960px;
				height: 100%;
				border: 0px solid;
				border-radius: 20px;	
				box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
				background: #ffffff;
				margin: 0 auto;
			}
			#home .subContainer {
				background: url("images/Background.png");
				background-repeat: no-repeat;
				background-position: 50% 0;
				background-size: 200%;
			}
			#home .contentContainer {
				box-shadow: 0px 0px 0px rgba(0, 0, 0, 0);
				height: 60%;
				padding: 20px 0 20px 0;
			}	
			#home h1 {
				color: black;
				background-color: transparent;
			}
			#brain {
				background-color: transparent;
				z-index: 1;
			}
			.st0, .st1, .st2, .st3, .st4, .st5, .st6 {
				stroke-linecap: round;
				opacity: 0;
			}
			button {
				display: table;
				margin: 0 auto;
			}

			.filter{
				filter: blur(20px);
			}
		</style>

		<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
	</head>
	<body onload="replaceSVGWithInline(brain)">
		<div id="bar">
			<div id="barContainer">
				<div id="logo">
					<h2>Test site</h2>
				</div>
				<div id="buttonBar">
					<ul id="buttonList">
						<li class="button">
							<a class="buttonText" href="/" onclick="scrollToSection(event, '#home')">Home</a>
						</li>
						<li class="button">
							<a class="buttonText" href="/" onclick="scrollToSection(event, '#about')">About</a>
						</li>
						<li class="button">
							<a class="buttonText" href="/" onclick="scrollToSection(event, '#github')">Project Selector</a>
						</li>
						<li class="button">
							<a class="buttonText" href="/" onclick="scrollToSection(event, '#contact')">Contact</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
			
		<div class="mainContainer">
			<div id="home" class="subContainer">
				<img id="brain" src="images/Brain.svg" alt="Picture of brain">
				<div class="contentContainer">
					<button onclick="animateHeader(['.st0','.st1','.st2', '.st3', '.st4', '.st5', '.st6'])">Run Script</button>
					<h1>Home</h1>
				</div>
			</div>
			<div id="about" class="subContainer">
				<div class="contentContainer">
					<h1>About</h1>
				</div>
			</div>
			<div id="github" class="subContainer">
				<div class="contentContainer">
					<h1>Github</h1>
				</div>				
			</div>
			<div id="contact" class="subContainer">
				<div class="contentContainer">
					<h1>Contact</h1>
				</div>				
			</div>
		</div>
		
		<script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/plugins/ScrollToPlugin.min.js"></script>
		<script type="text/javascript">
			function scrollToSection(event, element) {
				event.preventDefault();

				var yPos = $(element).position().top - 100;

				TweenMax.to(window, 1.5, {scrollTo:{y:yPos, autoKill:false}, ease:Power2.easeOut});
			}

			function replaceSVGWithInline(image) {
				var $img = $(image),
					imgID = $img.attr("id"),
					imgClass = $img.attr("class"),
					imgURL = $img.attr("src");

				$.get(imgURL, function(data) {
					// Get the SVG tag, ignore the rest
					var $svg = $(data).find("svg");
					// Add replaced image's ID to the new SVG
					if(typeof imgID !== "undefined") {
						$svg = $svg.attr("id", imgID);
					}
					// Add replaced image's classes to the new SVG
					if(typeof imgClass !== "undefined") {
						$svg = $svg.attr("class", imgClass + "replaced-svg");
					}
					// Remove any invalid XML tags as per http://validator.w3.org
					$svg = $svg.removeAttr("xmlns:a");
					// Replace image with new SVG
					$img.replaceWith($svg);
				}, "xml");
			}

			// TODO - use tween attribute and timeline for better animation
			function animateHeader(classes) {
				for (var i = 0; i < classes.length; i++) {
					
					var $paths = $(classes[i]);

					// Remove any transition and set opacity to 0
					$paths.css({
						"transition" : "none",
						"opacity" : "0"
					});

					// Set up strokes and initials settings for the individual elements
					for (var j = 0; j < $paths.length; j++) {
						var length = $paths[j].getTotalLength();
						// Set the dash array and offset to the length of the path						
						$paths[j].style.strokeDasharray = length + " " + length;
						$paths[j].style.strokeDashoffset = length;		
						// Trigger a layout so styles are calculated & the browser
						// picks up the starting position before animating
						$paths[j].getBoundingClientRect();	
					}

					// Define our transition
					switch($paths.attr("class")) {
						case "st0":
							$paths.css({
								// Circle
								"transition" : "opacity 0.5s, stroke-dashoffset 3s ease-in-out",
								"transition-delay" : "1.5s"
							});
							break;
						case "st3":
							$paths.css({
								// Small lines
								"transition" : "opacity 0.5s, stroke-dashoffset 2s ease-in-out",
								"transition-delay" : "1s"
							});
							break;
						case "st1":
						case "st2":
						case "st4":
							$paths.css({
								// Large lines
								"transition" : "opactiy 0.1s, stroke-dashoffset 2s ease-in-out"
							});
							break;
					}
				}

				// Define transition for particular lines
				var $leftLine = $("#leftline");
				$leftLine[0].style.transition = $leftLine[0].style.WebkitTransition = "none";
				$leftLine.css({
							"transition" : "opacity 0s, stroke-dashoffset 3s ease-out",
							"transition-delay" : "2.73s"
				});
				var $rightLine = $("#rightline");
				$rightLine[0].style.transition = $rightLine[0].style.WebkitTransition = "none";
				$rightLine.css({
							"transition" : "opacity 0s, stroke-dashoffset 3s ease-out",
							"transition-delay" : "3.13s"
				});

				// Initiate transition
				for (var i = 0; i < classes.length; i++) {
					var $paths = $(classes[i]);

					$paths.css({
						"opacity" : "1",
						"stroke-dashoffset" : "0"
					});
				}
				
			}
		</script>
	</body>
</html>