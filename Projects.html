<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Test</title>
		<style type="text/css">
			body {
				
				margin: 0 0;
			}
			h1 {
				font-size: 50px;
				font-family: sans-serif;
				text-align: center;
				color: white;
				background-color: #05163C;
				padding-bottom: 2px;
				border-top: 0px solid;
				border-top-left-radius: 20px;
				border-top-right-radius: 20px;
				margin: 0;
			}
			p {
				padding: 20px;
				margin: 0;
			}
			#bar {
				display: table;
				position: fixed;
				top: 0;
				width: 100%;
				padding-top: 10px;
				padding-bottom: 10px;
				background: rgba(35, 35, 35, 0.95);
				z-index: 100;

			}
			#barContainer {
				display: table;
				overflow-y: hidden;
				width: 100%;
				margin: 0 auto;
			}
			#logo {
				display: table-cell;
				overflow-y: hidden;
				margin-right: 30px;
				padding: 0;
				vertical-align: middle;
				line-height: normal;
			}
			#logo h2 {
				display: block;
				vertical-align: top;
				font-size: 40px;
				font-family: sans-serif;
				text-align: left;
				color: white;
				margin: 0 30px 0 10px;
				padding-left: 20px;
				max-width: 400px;
			}
			#buttonBar {
				display: table-cell;
				overflow-y: hidden;
				padding: 0;
				vertical-align: middle;
			}
			#buttonList {
				float: right;
				overflow: hidden;
				max-width: 1115px;
				margin: 0;
				padding: 0;
			}
			.button {
				display: inline-block;
				margin-right: 5px;
				padding: 0;	
			}
			.buttonText {
				display: block;
				border: 2px solid #ffffff;
				padding: 8px 12px;
				border-radius: 2px;
				color: #ffffff;
				text-transform: uppercase;
				text-decoration: none;
				letter-spacing: 0.05em;
				font-size: 14px;
				font-family: "Lato", sans-serif;
				font-weight: 700;
				line-height: normal;
			}
			.mainContainer {
				margin: 0 auto;
				padding-bottom: 20px;
			}
			.subContainer {		
				height: 900px;	
			}
			.contentContainer {
				width: 960px;
				height: 100%;
				border: 0px solid;
				border-radius: 20px;	
				box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
				background: #ffffff;
				margin: 0 auto;
			}
			.separator {
				height: 250px;
			}
			#home {
				background-color: #123888;
				background: url(images/Background.png);
				background-repeat: no-repeat;
				background-position: 50% 0;
				
				padding-top: 100px;
				padding-bottom: 250px;
			}/* 
			#bg {
				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 110%;
			} */
			#home .contentContainer {
				background-color: transparent;
				box-shadow: 0px 0px 0px rgba(0, 0, 0, 0);
				height: 60%;
				border: 7px solid white;
			}	
			#home h1 {
				background: transparent;
				border-bottom: 7px solid white;
			}
			#home p {
				color: white;
				font-family: 'Katibeh', cursive;
				font-size: 1.5em;
			}
			#brain {
				padding: 30px 0 30px 0;
				background-color: transparent;
				z-index: 1;
			}
			.st0, .st1, .st2, .st3, .st4, .st5, .st6 {
				stroke-linecap: round;
				opacity: 0;
			}
			#github {
				background-color: #1b52c6;
			}
			button {
				display: table;
				margin: 0 auto;
			}
			.filter{
				filter: blur(20px);
			}

			#svg {
				border: 2px solid grey;
				border-radius: 10px;
				margin: 0 auto;
			}
		</style>

		<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Katibeh" rel="stylesheet"> 
	</head>
	<body onload="replaceSVGWithInline()">
		<div id="bar">
			<div id="barContainer">
				<div id="logo">
					<h2>Test site</h2>
				</div>
				<div id="buttonBar">
					<ul id="buttonList">
						<li class="button">
							<a class="buttonText" href="/" onclick="scrollToSection(event, '#home')">Home</a>
						</li>
						<li class="button">
							<a class="buttonText" href="/" onclick="scrollToSection(event, '#about')">About</a>
						</li>
						<li class="button">
							<a class="buttonText" href="/" onclick="scrollToSection(event, '#github')">Project Selector</a>
						</li>
						<li class="button">
							<a class="buttonText" href="/" onclick="scrollToSection(event, '#contact')">Contact</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
			
		<div class="mainContainer">
			<div id="home" class="subContainer">
				<svg id="svg" width="100%">
					<defs></defs>
				</svg>
				<!-- <img id="brain" src="images/SVG/Brain.svg" alt="Drawn picture of brain surrounded by a circle"> -->
				<button onclick="animateHeader(['.st0','.st1','.st2', '.st3', '.st4', '.st5', '.st6'])">Start Animation</button>
				<div class="contentContainer">
					<h1>About</h1>
					<p>A little bit of information about myself</p>
				</div>
			</div>
			<div class="separator"></div>
			<div id="github" class="subContainer">
				<div class="contentContainer">
					<h1>Github</h1>
				</div>				
			</div>
			<div class="separator"></div>
			<div id="contact" class="subContainer">
				<div class="contentContainer">
					<h1>Contact</h1>
				</div>				
			</div>
		</div>
		
		<script src="https://code.jquery.com/jquery-3.0.0.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/TweenMax.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.18.5/plugins/ScrollToPlugin.min.js"></script>
		<script src="scripts/snap.svg.js"></script>
		<script type="text/javascript">
			function scrollToSection(event, element) {
				event.preventDefault();

				var yPos = $(element).position().top - 100;

				TweenMax.to(window, 1.5, {scrollTo:{y:yPos, autoKill:false}, ease:Power2.easeOut});
			}

			function replaceSVGWithInline(image) {
				/*var $img = $(image),
					imgID = $img.attr("id"),
					imgClass = $img.attr("class"),
					imgURL = $img.attr("src");

				$.get(imgURL, function(data) {
					// Get the SVG tag, ignore the rest
					var $svg = $(data).find("svg");
					// Add replaced image's ID to the new SVG
					if(typeof imgID !== "undefined") {
						$svg = $svg.attr("id", imgID);
					}
					// Add replaced image's classes to the new SVG
					if(typeof imgClass !== "undefined") {
						$svg = $svg.attr("class", imgClass + "replaced-svg");
					}
					// Remove any invalid XML tags as per http://validator.w3.org
					$svg = $svg.removeAttr("xmlns:a");
					// Replace image with new SVG
					$img.replaceWith($svg);
				}, "xml");*/

				var draw = Snap("#svg");

				Snap.load("images/SVG/Brain.svg", function(f) {
					draw.append(f);
				});
			}

			function animateHeader(classes) {
				var timeline = new TimelineMax();

				for (var i = 0; i < classes.length; i++) {
					
					var $paths = $(classes[i]);

					// Remove any transition and set opacity to 0
					TweenMax.set($paths, {transition:"none", opacity:"0"});

					// Set up strokes and initials settings for the individual elements
					for (var j = 0; j < $paths.length; j++) {
						var length = $paths[j].getTotalLength();
						// Set the dash array and offset to the length of the path	
						TweenMax.set($paths[j], {strokeDasharray:(length + " " + length), strokeDashoffset:length});
						// Trigger a layout so styles are calculated & the browser
						// picks up the starting position before animating
						$paths[j].getBoundingClientRect();	
					}

					// Define our transition
					switch($paths.attr("class")) {		
						case "st1":
						case "st2":
						case "st4":
							new TimelineMax().to($paths, 0, {opacity:"1"}).to($paths, 2, {strokeDashoffset:"0", ease:Linear.noEase});
							break;
						case "st3":
							new TimelineMax().to($paths, 0, {opacity:"1", delay:"1.5"}).to($paths, 2, {strokeDashoffset:"0", ease:Linear.noEase});
							break;
					}
				}

				var $circle = $("#Circle .st0");
				new TimelineMax().to($circle, 0, {opacity:"1", delay:"3.16"}).to($circle, 3, {strokeDashoffset:"0", ease:Power4.easeOut});

				// Define transition for particular lines
				var $leftLine = $("#LeftLine");
				TweenMax.set($leftLine, {transition:"none"});
				new TimelineMax().to($leftLine, 0, {opacity:"1", delay:"3.51"}).to($leftLine, 3, {strokeDashoffset:"0", ease:Power4.easeOut, yoyo:true});

				var $rightLine = $("#RightLine");
				TweenMax.set($rightLine, {transition:"none"});
				new TimelineMax().to($rightLine, 0, {opacity:"1", delay:"3.75"}).to($rightLine, 3, {strokeDashoffset:"0", ease:Power4.easeOut});

				var $buttonLines = $("#ButtonLines").children();
				for (var i = 0; i < $buttonLines.length; i++) {
					TweenMax.set($buttonLines[i], {transition:"none"});
					new TimelineMax().to($buttonLines[i], 0, {opacity:"1", delay:"4"}).to($buttonLines[i], 1.5, {strokeDashoffset:"0", ease:Power4.easeOut});
				}
			}
		</script>
	</body>
</html>